function centerImage(){$(".center-image").each(function(a){var b=$(this),c=$("img",this),d=b.width()/b.height(),e=c.width()/c.height();e>=d?c.css({width:"auto",height:"105%"}):c.css({width:"105%",height:"auto"}),c.css({position:"absolute",top:"50%",left:"50%","margin-top":-1*c.height()*.5+"px","margin-left":-1*c.width()*.5+"px"})})}!function(a){a.fn.mtimer=function(b){var c={dateStart:new Date,dateNum:10,timeStart:9,timeNum:12,triggerID:"",onOk:null,onCancel:null},d=a.extend(c,b),e=a(this),f="",g=48,h={init:function(){var b=this;b.renderHTML();var c=a("#mtimer"),g=a(".mt-date",c),h=a(".mt-time",c);this.mpDate=g,this.mpTime=h;var i="",j=d.dateStart,k=j.getFullYear(),l=j.getMonth(),m=j.getDate();f+=k+"年"+(l+1)+"月"+m+"日  "+d.timeStart+":00",e.val(f);for(var n=0;n<d.dateNum;n++){var o=new Date(k,l,m+n),p=o.getFullYear(),q=o.getMonth()+1,r=o.getDate(),s=o.getDay(),t="日一二三四五六".charAt(s),u=0==n?"selected":"";i+='<li class="'+u+'" data-date="'+p+"年"+q+"月"+r+'日">'+q+"月"+r+"日&nbsp;星期"+t+"</li>"}i+="<li></li><li></li>",g.find("ul").append(i);for(var v="",w=0;w<d.timeNum;w++){var x=d.timeStart+w,u=0==w?"selected":"";v+='<li class="'+u+'" data-time="'+x+':00">'+x+':00</li><li data-time="'+x+':30">'+x+":30</li>",w==d.timeNum-1&&(v+='<li data-time="'+(x+1)+':00">'+(x+1)+":00</li>")}v+="<li></li><li></li>",h.find("ul").append(v);var y=new IScroll(".mt-date",{snap:"li",probeType:2,tap:!0});y.on("scroll",function(){b.updateSelected(g,this)}),y.on("scrollEnd",function(){b.updateSelected(g,this)});var z=new IScroll(".mt-time",{snap:"li",probeType:2,tap:!0});z.on("scroll",function(){b.updateSelected(h,this)}),z.on("scrollEnd",function(){b.updateSelected(h,this)}),this.dateScroll=y,this.timeScroll=z,a("#"+d.triggerID).on("tap",function(){c.hasClass("show")?b.hidePanel():b.showPanel()}),g.find("li").on("tap",function(){b.checkDate(a(this))}),h.find("li").on("tap",function(){b.checkTime(a(this))}),a(".mt_ok",c).on("tap",function(){var a=g.find(".selected").data("date"),f=h.find(".selected").data("time");e.val(a+" "+f),b.hidePanel(),d.onOk&&"function"==typeof d.onOk&&d.onOk(c)}),a(".mt_cancel",c).on("tap",function(){b.hidePanel(),d.onCancel&&"function"==typeof d.onCancel&&d.onCancel(c)}),a("#mt_mask").on("tap",function(){b.hidePanel()})},renderHTML:function(){var b=d.timeStart+":00",c=d.timeStart+d.timeNum+":00",e='<div id="mt_mask" class="mt-mask"></div><div id="mtimer" class="mt_poppanel"><div class="mt_panel"><h3 class="mt_title">请选择时间</h3><div class="mt-body"><div class="mt-date"><ul><li class="mt_note">上下滚动选取时间</li><li></li></ul></div><div class="mt-time"><ul><li class="mt_note">可选时间：'+b+"-"+c+'</li><li></li></ul></div><div class="mt_indicate"></div></div><div class="mt_confirm"><a href="javascript:void(0);" class="mt_ok">确定</a><a href="javascript:void(0);" class="mt_cancel">取消</a></div></div></div>';a(document.body).append(e)},updateSelected:function(a,b){var c=-b.y/g+2,d=a.find("li").eq(c);d.addClass("selected").siblings().removeClass("selected")},showPanel:function(b){a("#mt_mask").css("visibility","visible"),a("#mtimer, #mt_mask").addClass("show")},hidePanel:function(){a("#mtimer, #mt_mask").removeClass("show"),setTimeout(function(){a("#mt_mask").css("visibility","hidden")},500)},setValue:function(){var b=e.val(),c=b.split(" "),d=c[0],f=c[1],g=a('.mt_date li[data-date="'+d+'"]'),h=a('.mt_time li[data-time="'+f+'"]');this.checkDate(g),this.checkTime(h)},checkDate:function(a){var b=this,c=a.prev("li").prev("li");this.dateScroll.scrollToElement(c[0],300),setTimeout(function(){b.updateSelected(b.mpDate,b.dateScroll)},350)},checkTime:function(a){var b=this,c=a.prev("li").prev("li");this.timeScroll.scrollToElement(c[0],300),setTimeout(function(){b.updateSelected(b.mpTime,b.timeScroll)},350)}};return h.init(),h}}(Zepto),function(a){a.fn.iSelect=function(b){var c={items:[""],id:"",triggerID:"",onOk:null,onCancel:null},d=a.extend(c,b),e=a(this),f="",g=48,h={init:function(){var b=this;b.renderHTML();var c=a("#iselect_"+d.id),g=a(".mt-select",c);this.selectEle=g;for(var h="<li></li><li></li>",i=d.items,j=0;j<i.length;j++){var k=0==j?"selected":"";h+='<li class="'+k+'" data-item="'+i[j]+'">'+i[j]+"</li>"}h+="<li></li><li></li>",g.find("ul").append(h),f=d.items[0],e.val(f);var l=new IScroll("#iselect_scroll_"+d.id,{snap:"li",probeType:2,tap:!0});l.on("scroll",function(){b.updateSelected(g,this)}),l.on("scrollEnd",function(){b.updateSelected(g,this)}),this.itemScroll=l,a("#"+d.triggerID).on("tap",function(){c.hasClass("show")?b.hidePanel():b.showPanel()}),g.find("li").on("tap",function(c){b.checkItem(a(this))}),a(".mt_ok",c).on("tap",function(){var a=g.find(".selected").data("item");e.val(a),b.hidePanel(),d.onOk&&"function"==typeof d.onOk&&d.onOk(c)}),a(".mt_cancel",c).on("tap",function(){b.hidePanel(),d.onCancel&&"function"==typeof d.onCancel&&d.onCancel(c)}),a("#iselect_mask_"+d.id).on("tap",function(){b.hidePanel()})},renderHTML:function(){var b='<div id="iselect_mask_'+d.id+'" class="mt-mask"></div><div id="iselect_'+d.id+'" class="mt_poppanel"><div class="mt_panel"><div class="mt-body"><div class="mt-select" id="iselect_scroll_'+d.id+'"><ul></ul></div><div class="mt_indicate"></div></div><div class="mt_confirm"><a href="javascript:void(0);" class="mt_ok">确 定</a><a href="javascript:void(0);" class="mt_cancel">取 消</a></div></div></div>';a(document.body).append(b)},updateSelected:function(a,b){var c=-b.y/g+2,d=a.find("li").eq(c);d.addClass("selected").siblings().removeClass("selected")},hidePanel:function(){a("#iselect_"+d.id+", #iselect_mask_"+d.id).removeClass("show"),setTimeout(function(){a("#iselect_mask_"+d.id).css("visibility","hidden")},500)},showPanel:function(){a("#iselect_mask_"+d.id).css("visibility","visible"),a("#iselect_"+d.id+", #iselect_mask_"+d.id).addClass("show")},checkItem:function(a){var b=this,c=a.prev("li").prev("li");this.itemScroll.scrollToElement(c[0],300),setTimeout(function(){b.updateSelected(b.selectEle,b.itemScroll)},350)}};return h.init(),h}}(Zepto);